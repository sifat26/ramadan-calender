<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>রমজান ক্যালেন্ডার ২০২৬ - টাঙ্গাইল</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Hind Siliguri', 'sans-serif'] },
                    colors: {
                        islamic: { 
                            50: '#f0fdf4',
                            500: '#22c55e', 
                            700: '#15803d', 
                            800: '#166534',
                            900: '#14532d', 
                            gold: '#fbbf24',
                        }
                    }
                }
            }
        };
    </script>
    <style>
        [x-cloak] { display: none !important; }
        body { background-color: #f8fafc; }
        .hero-gradient { background: linear-gradient(135deg, #14532d 0%, #15803d 100%); }
        .timer-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.5); }
        .dua-card { border-left: 4px solid #fbbf24; }
        /* Smooth scrolling for the whole page */
        html { scroll-behavior: smooth; }
    </style>
</head>
<body class="text-gray-800 font-sans min-h-screen flex flex-col" x-data="ramadanApp()" x-init="initApp()">

    <header class="hero-gradient text-white pt-10 pb-28 px-4 text-center relative shadow-2xl">
        <div class="absolute top-5 right-5 opacity-20 transform rotate-12">
            <i class="fas fa-kaaba text-6xl"></i>
        </div>
        <div class="relative z-10">
            <div class="inline-block px-4 py-1 rounded-full bg-white/10 backdrop-blur-md text-islamic-gold text-sm mb-4 tracking-widest uppercase">
                Ramadan Kareem 2026
            </div>
            <h1 class="text-4xl md:text-6xl font-bold mb-2">তোহফায়ে রামাযান</h1>
            <p class="text-lg opacity-80 flex items-center justify-center">
                <i class="fas fa-location-dot mr-2 text-islamic-gold"></i> টাঙ্গাইল জেলা
            </p>
        </div>
    </header>

    <main class="container mx-auto px-4 -mt-20 relative z-20 pb-12 max-w-4xl flex-grow">
        
        <div class="timer-card rounded-3xl shadow-2xl p-8 text-center mb-8 border-b-8 border-islamic-gold">
            <h2 class="text-xl font-medium text-gray-600 mb-2" x-text="nextEventLabel">পরবর্তী ইভেন্ট</h2>
            
            <div class="flex justify-center items-center gap-2 md:gap-4 my-4">
                <template x-for="(unit, index) in timeLeftArray" :key="index">
                    <div class="flex flex-col">
                        <div class="bg-islamic-900 text-white w-16 h-16 md:w-24 md:h-24 rounded-2xl flex items-center justify-center text-3xl md:text-5xl font-bold shadow-lg shadow-green-900/20" x-text="unit.value"></div>
                        <span class="text-[10px] md:text-xs mt-2 uppercase text-gray-400 font-bold" x-text="unit.label"></span>
                    </div>
                </template>
            </div>

            <div class="inline-flex items-center px-6 py-3 bg-islamic-50 text-islamic-800 rounded-2xl font-bold border border-islamic-100">
                <i class="fas fa-bullhorn mr-3 text-islamic-gold animate-bounce"></i>
                <span x-text="nextEventName">লোড হচ্ছে...</span>
                <span class="mx-2 opacity-30">|</span>
                <span x-text="nextEventTime ? convertToBanglaTime(nextEventTime) : ''"></span>
            </div>
        </div>

        
        <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100">
            <div class="bg-gray-50 px-6 py-5 border-b flex justify-between items-center">
                <h3 class="font-bold text-xl text-islamic-900 flex items-center">
                    <span class="w-2 h-8 bg-islamic-gold rounded-full mr-3"></span>
                    পূর্ণাঙ্গ সময়সূচী
                </h3>
                <button @click="scrollToToday()" class="bg-islamic-700 text-white p-2 px-4 rounded-xl text-sm font-semibold hover:bg-islamic-800 transition-all active:scale-95 shadow-md">
                    আজকের দিন
                </button>
            </div>
            
            <div class="overflow-x-auto">
                <table class="w-full text-left">
                    <thead>
                        <tr class="bg-islamic-900 text-white text-sm uppercase">
                            <th class="px-6 py-4 font-semibold">রমজান</th>
                            <th class="px-6 py-4 font-semibold">তারিখ ও বার</th>
                            <th class="px-6 py-4 font-semibold text-center">সাহরী</th>
                            <th class="px-6 py-4 font-semibold text-center">ইফতার</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-50">
                        <template x-for="day in schedule" :key="day.ramadan">
                            <tr :id="'day-' + day.date" 
                                :class="isToday(day.date) ? 'bg-green-50 ring-2 ring-inset ring-islamic-500/20' : 'hover:bg-gray-50/50 transition-colors'">
                                <td class="px-6 py-4">
                                    <span class="w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center font-bold text-islamic-800" 
                                          :class="isToday(day.date) ? 'bg-islamic-700 text-white' : ''"
                                          x-text="toBangla(day.ramadan)"></span>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="font-bold text-gray-800" x-text="formatDate(day.date)"></div>
                                    <div class="text-xs text-gray-400" x-text="day.dayBangla"></div>
                                </td>
                                <td class="px-6 py-4 text-center font-bold text-red-600 bg-red-50/20" x-text="convertToBanglaTime(day.sehri)"></td>
                                <td class="px-6 py-4 text-center font-bold text-islamic-700 bg-green-50/20" x-text="convertToBanglaTime(day.iftar)"></td>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <footer class="bg-gray-900 text-gray-400 py-10 px-4 text-center">
        <p class="mb-2">Developed by <span class="text-islamic-gold font-bold">Tanvir Ahmmed Sifat</span></p>
        <div class="flex justify-center gap-4 text-xl mb-4">
          <a href="https://www.facebook.com/sifat.7847/" target="_blank"><i class="fab fa-facebook hover:text-white cursor-pointer transition-colors"></i></a>
            
            <!--<i class="fab fa-github hover:text-white cursor-pointer transition-colors"></i>-->
        </div>
    </footer>

    <script>
        function ramadanApp() {
            return {
                timeLeftArray: [
                    { value: '০০', label: 'ঘণ্টা' },
                    { value: '০০', label: 'মিনিট' },
                    { value: '০০', label: 'সেকেন্ড' }
                ],
                nextEventName: '',
                nextEventTime: '',
                nextEventLabel: 'পরবর্তী সময় বাকি',
                
                schedule: [
                    { ramadan: 1, date: '2026-02-19', dayBangla: 'বৃহস্পতিবার', sehri: '05:15', iftar: '05:58' },
                    { ramadan: 2, date: '2026-02-20', dayBangla: 'শুক্রবার', sehri: '05:14', iftar: '05:58' },
                    { ramadan: 3, date: '2026-02-21', dayBangla: 'শনিবার', sehri: '05:14', iftar: '05:59' },
                    { ramadan: 4, date: '2026-02-22', dayBangla: 'রবিবার', sehri: '05:13', iftar: '05:59' },
                    { ramadan: 5, date: '2026-02-23', dayBangla: 'সোমবার', sehri: '05:12', iftar: '06:00' },
                    { ramadan: 6, date: '2026-02-24', dayBangla: 'মঙ্গলবার', sehri: '05:11', iftar: '06:00' },
                    { ramadan: 7, date: '2026-02-25', dayBangla: 'বুধবার', sehri: '05:11', iftar: '06:01' },
                    { ramadan: 8, date: '2026-02-26', dayBangla: 'বৃহস্পতিবার', sehri: '05:10', iftar: '06:01' },
                    { ramadan: 9, date: '2026-02-27', dayBangla: 'শুক্রবার', sehri: '05:09', iftar: '06:02' },
                    { ramadan: 10, date: '2026-02-28', dayBangla: 'শনিবার', sehri: '05:08', iftar: '06:03' },
                    { ramadan: 11, date: '2026-03-01', dayBangla: 'রবিবার', sehri: '05:07', iftar: '06:03' },
                    { ramadan: 12, date: '2026-03-02', dayBangla: 'সোমবার', sehri: '05:06', iftar: '06:04' },
                    { ramadan: 13, date: '2026-03-03', dayBangla: 'মঙ্গলবার', sehri: '05:06', iftar: '06:04' },
                    { ramadan: 14, date: '2026-03-04', dayBangla: 'বুধবার', sehri: '05:06', iftar: '06:05' },
                    { ramadan: 15, date: '2026-03-05', dayBangla: 'বৃহস্পতিবার', sehri: '05:05', iftar: '06:05' },
                    { ramadan: 16, date: '2026-03-06', dayBangla: 'শুক্রবার', sehri: '05:03', iftar: '06:06' },
                    { ramadan: 17, date: '2026-03-07', dayBangla: 'শনিবার', sehri: '05:02', iftar: '06:06' },
                    { ramadan: 18, date: '2026-03-08', dayBangla: 'রবিবার', sehri: '05:01', iftar: '06:07' },
                    { ramadan: 19, date: '2026-03-09', dayBangla: 'সোমবার', sehri: '05:00', iftar: '06:07' },
                    { ramadan: 20, date: '2026-03-10', dayBangla: 'মঙ্গলবার', sehri: '04:59', iftar: '06:08' },
                    { ramadan: 21, date: '2026-03-11', dayBangla: 'বুধবার', sehri: '04:58', iftar: '06:08' },
                    { ramadan: 22, date: '2026-03-12', dayBangla: 'বৃহস্পতিবার', sehri: '04:57', iftar: '06:09' },
                    { ramadan: 23, date: '2026-03-13', dayBangla: 'শুক্রবার', sehri: '04:56', iftar: '06:09' },
                    { ramadan: 24, date: '2026-03-14', dayBangla: 'শনিবার', sehri: '04:55', iftar: '06:09' },
                    { ramadan: 25, date: '2026-03-15', dayBangla: 'রবিবার', sehri: '04:54', iftar: '06:10' },
                    { ramadan: 26, date: '2026-03-16', dayBangla: 'সোমবার', sehri: '04:53', iftar: '06:10' },
                    { ramadan: 27, date: '2026-03-17', dayBangla: 'মঙ্গলবার', sehri: '04:52', iftar: '06:10' },
                    { ramadan: 28, date: '2026-03-18', dayBangla: 'বুধবার', sehri: '04:51', iftar: '06:11' },
                    { ramadan: 29, date: '2026-03-19', dayBangla: 'বৃহস্পতিবার', sehri: '04:50', iftar: '06:11' },
                    { ramadan: 30, date: '2026-03-20', dayBangla: 'শুক্রবার', sehri: '04:49', iftar: '06:12' }
                ],

                initApp() {
                    this.updateTimer();
                    setInterval(() => this.updateTimer(), 1000);
                    setTimeout(() => this.scrollToToday(), 800);
                },

                getLocalDateString() {
                    const now = new Date();
                    const offset = now.getTimezoneOffset();
                    const localDate = new Date(now.getTime() - (offset * 60 * 1000));
                    return localDate.toISOString().split('T')[0];
                },

                isToday(dateString) {
                    return dateString === this.getLocalDateString();
                },

                formatDate(dateStr) {
                    const date = new Date(dateStr);
                    const months = ["জানুয়ারি", "ফেব্রুয়ারি", "মার্চ", "এপ্রিল"];
                    return this.toBangla(date.getDate()) + ' ' + months[date.getMonth()];
                },
                
                toBangla(num) {
                    if(num === undefined || num === null) return '';
                    const banglaDigits = ['০', '১', '২', '৩', '৪', '৫', '৬', '৭', '৮', '৯'];
                    return num.toString().split('').map(c => banglaDigits[c] || c).join('');
                },

                convertToBanglaTime(timeStr) {
                    if(!timeStr) return '';
                    // Splits "05:15" -> ["০৫", ":", "১৫"]
                    return timeStr.split('').map(c => {
                        if(c === ':') return ':';
                        return this.toBangla(c);
                    }).join('');
                },

                scrollToToday() {
                    const today = this.getLocalDateString();
                    const el = document.getElementById('day-' + today);
                    if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
                },

                updateTimer() {
                    const now = new Date();
                    const todayStr = this.getLocalDateString();
                    let todayData = this.schedule.find(d => d.date === todayStr);

                    const createDate = (baseDateStr, timeStr, isPM) => {
                        const d = new Date(baseDateStr + 'T00:00:00');
                        const [h, m] = timeStr.split(':').map(Number);
                        let hours = h;
                        if (isPM && h < 12) hours += 12; 
                        d.setHours(hours, m, 0, 0);
                        return d;
                    };

                    let targetDate;
                    
                    if (todayData) {
                        const sehriTime = createDate(todayStr, todayData.sehri, false); 
                        const iftarTime = createDate(todayStr, todayData.iftar, true);  

                        if (now < sehriTime) {
                            targetDate = sehriTime;
                            this.nextEventName = "সাহরীর শেষ সময়";
                            this.nextEventLabel = "সাহরীর বাকি";
                            this.nextEventTime = todayData.sehri;
                        } else if (now >= sehriTime && now < iftarTime) {
                            targetDate = iftarTime;
                            this.nextEventName = "ইফতারের সময়";
                            this.nextEventLabel = "ইফতারের বাকি";
                            this.nextEventTime = todayData.iftar;
                        } else {
                            this.setTomorrowSehri(now);
                            return; 
                        }
                    } else {
                        // Logic for before Ramadan starts
                        const futureDates = this.schedule.filter(d => new Date(d.date) > new Date(todayStr));
                        if(futureDates.length > 0) {
                             const nextDay = futureDates[0];
                             targetDate = createDate(nextDay.date, nextDay.sehri, false);
                             this.nextEventName = "প্রথম রোজা (সাহরী)";
                             this.nextEventTime = nextDay.sehri;
                             this.nextEventLabel = "রমজান শুরু হতে বাকি";
                        }
                    }

                    if(targetDate) this.calculateDiff(targetDate);
                },

                setTomorrowSehri(now) {
                    const tomorrow = new Date(now);
                    tomorrow.setDate(tomorrow.getDate() + 1);
                    const tomorrowStr = tomorrow.toISOString().split('T')[0];
                    const tData = this.schedule.find(d => d.date === tomorrowStr);

                    if (tData) {
                        const [h, m] = tData.sehri.split(':').map(Number);
                        const tDate = new Date(tomorrowStr + 'T00:00:00');
                        tDate.setHours(h, m, 0, 0);
                        this.calculateDiff(tDate);
                        this.nextEventName = "আগামীকাল সাহরী";
                        this.nextEventTime = tData.sehri;
                    }
                },

                calculateDiff(targetDate) {
                    const now = new Date();
                    const diff = targetDate - now;

                    if (diff > 0) {
                        const h = Math.floor(diff / (1000 * 60 * 60));
                        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                        const s = Math.floor((diff % (1000 * 60)) / 1000);
                        
                        // Formatted with Bangla Zeros
                        this.timeLeftArray = [
                            { value: this.toBangla(h).padStart(2, '০'), label: 'ঘণ্টা' },
                            { value: this.toBangla(m).padStart(2, '০'), label: 'মিনিট' },
                            { value: this.toBangla(s).padStart(2, '০'), label: 'সেকেন্ড' }
                        ];
                    }
                }
            }
        }
    </script>
</body>
</html>
