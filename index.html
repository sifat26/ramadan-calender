<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>রমজান ক্যালেন্ডার ২০২৬ - টাঙ্গাইল</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Noto Sans Bengali', 'sans-serif'] },
                    colors: {
                        islamic: { 
                            500: '#22c55e', 
                            700: '#15803d', 
                            800: '#166534',
                            900: '#14532d', 
                            gold: '#fbbf24',
                            goldDark: '#d97706'
                        }
                    },
                    backgroundImage: {
                        'pattern-islamic': "url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l15 30-15 30L15 30z' fill='%2315803d' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E\")"
                    }
                }
            }
        };
    </script>
    <style>
        [x-cloak] { display: none !important; }
        .glass { background: rgba(255, 255, 255, 0.97); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.3); }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #15803d; border-radius: 10px; }
    </style>
</head>
<body class="bg-gray-50 bg-pattern-islamic text-gray-800 font-sans min-h-screen flex flex-col" x-data="ramadanApp()" x-init="initApp()">

    <header class="bg-gradient-to-b from-islamic-900 to-islamic-800 text-white shadow-lg pt-8 pb-24 text-center relative overflow-hidden">
        <div class="absolute top-4 left-6 text-islamic-gold opacity-30 animate-pulse">
            <i class="fas fa-moon text-4xl"></i>
            <i class="fas fa-star text-xl absolute -top-2 right-[-20px]"></i>
        </div>

        <div class="relative z-10 px-4">
            <h1 class="text-4xl md:text-5xl font-bold text-islamic-gold mb-2 drop-shadow-md">তোহফায়ে রামাযান</h1>
            <p class="text-base md:text-lg opacity-90 text-islamic-100">সাহরী ও ইফতারের সময়সূচী - ২০২৬ (টাঙ্গাইল জেলা)</p>
        </div>

        <div class="absolute bottom-0 left-0 w-full text-islamic-700 opacity-40 pointer-events-none leading-none">
            <svg class="w-full h-auto md:h-32 lg:h-48" preserveAspectRatio="none" viewBox="0 0 1200 320" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M0,320L0,280C100,280,120,240,160,240C190,240,200,190,230,190C260,190,270,220,300,220C330,220,340,160,380,160C420,160,440,260,480,260C520,260,540,200,580,200C620,200,630,280,680,280C720,280,750,220,790,220C830,220,850,260,900,260C940,260,960,210,1000,210C1040,210,1060,260,1100,260C1140,260,1180,300,1200,320L0,320Z"></path>
                <path d="M140,240 L140,160 M180,240 L180,180" stroke="currentColor" stroke-width="4" opacity="0.5"/>
                <circle cx="160" cy="160" r="20" fill="currentColor" />
                <rect x="155" y="130" width="10" height="30" fill="currentColor"/>
                
                <path d="M360,160 L360,80 M400,160 L400,100" stroke="currentColor" stroke-width="5" opacity="0.5"/>
                <circle cx="380" cy="80" r="25" fill="currentColor" />
                <rect x="375" y="40" width="10" height="40" fill="currentColor"/>
            </svg>
        </div>
        <div class="absolute bottom-0 left-0 w-full h-16 bg-gradient-to-t from-gray-50 to-transparent"></div>
    </header>

    <main class="container mx-auto px-4 -mt-16 relative z-20 pb-10 max-w-3xl flex-grow">
        
        <div class="glass rounded-2xl shadow-xl p-6 text-center border-t-4 border-islamic-gold mb-8 transform transition hover:-translate-y-1 relative overflow-hidden">
            
            <div class="absolute top-0 right-4 text-islamic-gold opacity-20 pointer-events-none">
                <svg width="80" height="120" viewBox="0 0 80 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M40 0V20" stroke="currentColor" stroke-width="2"/>
                    <path d="M20 30H60L70 50H10L20 30Z" fill="currentColor" opacity="0.8"/>
                    <rect x="15" y="50" width="50" height="50" rx="4" fill="currentColor" opacity="0.6"/>
                    <path d="M15 100L40 120L65 100H15Z" fill="currentColor" opacity="0.8"/>
                    <circle cx="40" cy="75" r="10" fill="#fff" opacity="0.7"/>
                </svg>
            </div>
            <div class="absolute top-0 left-4 text-islamic-goldDark opacity-10 pointer-events-none transform scale-75">
                 <svg width="80" height="120" viewBox="0 0 80 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M40 0V20" stroke="currentColor" stroke-width="2"/>
                    <path d="M20 30H60L70 50H10L20 30Z" fill="currentColor" opacity="0.8"/>
                    <rect x="15" y="50" width="50" height="50" rx="4" fill="currentColor" opacity="0.6"/>
                    <path d="M15 100L40 120L65 100H15Z" fill="currentColor" opacity="0.8"/>
                </svg>
            </div>

            <div class="relative z-10 py-2">
                <h2 class="text-lg md:text-xl font-semibold text-islamic-800" x-text="nextEventLabel">পরবর্তী সময় বাকি</h2>
                <div class="text-5xl md:text-7xl font-extrabold text-islamic-900 my-3 font-mono tracking-tight drop-shadow-sm" x-text="timeLeft">--:--:--</div>
                <div class="inline-block px-6 py-2 bg-islamic-700 text-white rounded-full text-base font-bold shadow-md animate-pulse ring-4 ring-green-100">
                    <i class="fas fa-clock mr-2"></i><span x-text="nextEventName">লোড হচ্ছে...</span>
                </div>
                <p class="text-sm text-gray-600 mt-4 font-medium" x-text="nextEventTime ? 'টার্গেট সময়: ' + convertToBanglaTime(nextEventTime) : ''"></p>
            </div>
        </div>

        <div class="bg-white/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden border border-gray-200">
            <div class="bg-islamic-700 p-4 flex justify-between items-center text-white bg-[url('https://www.transparenttextures.com/patterns/arabesque.png')]">
                <h3 class="font-bold text-lg"><i class="fas fa-scroll mr-2 text-islamic-gold"></i>সময়সূচী</h3>
                <button @click="scrollToToday()" class="text-xs bg-islamic-gold text-islamic-900 px-4 py-2 rounded-full font-bold hover:bg-yellow-400 transition shadow-sm flex items-center">
                    <i class="fas fa-calendar-day mr-1"></i> আজকের তারিখ
                </button>
            </div>
            
            <div class="overflow-x-auto max-h-[500px] overflow-y-auto relative scroll-smooth" id="schedule-container">
                <table class="w-full text-center border-collapse">
                    <thead class="bg-gray-100/95 sticky top-0 shadow-sm z-10 text-sm text-gray-700 uppercase tracking-wider">
                        <tr>
                            <th class="p-4 font-semibold">রমজান</th>
                            <th class="p-4 font-semibold">তারিখ</th>
                            <th class="p-4 font-semibold">বার</th>
                            <th class="p-4 font-bold text-red-700 bg-red-50/50">সাহরীর শেষ</th>
                            <th class="p-4 font-bold text-islamic-800 bg-green-50/50">ইফতার</th>
                        </tr>
                    </thead>
                    <tbody class="text-sm divide-y divide-gray-100">
                        <template x-for="day in schedule" :key="day.ramadan">
                            <tr :id="'day-' + day.date" 
                                :class="{'bg-green-100/80 font-bold border-l-4 border-islamic-600 shadow-inner': isToday(day.date), 'hover:bg-gray-50 transition-colors': !isToday(day.date)}">
                                <td class="p-4" x-text="toBangla(day.ramadan)"></td>
                                <td class="p-4 text-gray-600" x-text="formatDate(day.date)"></td>
                                <td class="p-4 text-gray-600" x-text="day.dayBangla"></td>
                                <td class="p-4 font-semibold text-red-600 bg-red-50/30" x-text="convertToBanglaTime(day.sehri)"></td>
                                <td class="p-4 font-semibold text-islamic-800 bg-green-50/30" x-text="convertToBanglaTime(day.iftar)"></td>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </div>
        </div>

        
    </main>

    <footer class="bg-islamic-900 text-islamic-100 py-6 text-center text-sm relative overflow-hidden">
         <div class="absolute bottom-0 left-0 opacity-10 text-islamic-gold pointer-events-none">
            <i class="fas fa-mosque text-6xl -mb-4 -ml-2"></i>
        </div>
        <p class="font-medium">Developed by <span class="text-islamic-gold">Tanvir Ahmmed Sifat</span></p>
        <p class="text-xs mt-1 opacity-70">© 2026 All Rights Reserved.</p>
    </footer>

    <script>
        function ramadanApp() {
            return {
                timeLeft: '--:--:--',
                nextEventName: '',
                nextEventTime: '',
                nextEventLabel: 'পরবর্তী সময় বাকি',
                
                // Data from 04.Tangail.jpg
                schedule: [
                    { ramadan: 1, date: '2026-02-19', dayBangla: 'বৃহস্পতিবার', sehri: '05:15', iftar: '05:58' },
                    { ramadan: 2, date: '2026-02-20', dayBangla: 'শুক্রবার', sehri: '05:14', iftar: '05:58' },
                    { ramadan: 3, date: '2026-02-21', dayBangla: 'শনিবার', sehri: '05:14', iftar: '05:59' },
                    { ramadan: 4, date: '2026-02-22', dayBangla: 'রবিবার', sehri: '05:13', iftar: '05:59' },
                    { ramadan: 5, date: '2026-02-23', dayBangla: 'সোমবার', sehri: '05:12', iftar: '06:00' },
                    { ramadan: 6, date: '2026-02-24', dayBangla: 'মঙ্গলবার', sehri: '05:11', iftar: '06:00' },
                    { ramadan: 7, date: '2026-02-25', dayBangla: 'বুধবার', sehri: '05:11', iftar: '06:01' },
                    { ramadan: 8, date: '2026-02-26', dayBangla: 'বৃহস্পতিবার', sehri: '05:10', iftar: '06:01' },
                    { ramadan: 9, date: '2026-02-27', dayBangla: 'শুক্রবার', sehri: '05:09', iftar: '06:02' },
                    { ramadan: 10, date: '2026-02-28', dayBangla: 'শনিবার', sehri: '05:08', iftar: '06:03' },
                    { ramadan: 11, date: '2026-03-01', dayBangla: 'রবিবার', sehri: '05:07', iftar: '06:03' },
                    { ramadan: 12, date: '2026-03-02', dayBangla: 'সোমবার', sehri: '05:06', iftar: '06:04' },
                    { ramadan: 13, date: '2026-03-03', dayBangla: 'মঙ্গলবার', sehri: '05:06', iftar: '06:04' },
                    { ramadan: 14, date: '2026-03-04', dayBangla: 'বুধবার', sehri: '05:06', iftar: '06:05' },
                    { ramadan: 15, date: '2026-03-05', dayBangla: 'বৃহস্পতিবার', sehri: '05:05', iftar: '06:05' },
                    { ramadan: 16, date: '2026-03-06', dayBangla: 'শুক্রবার', sehri: '05:03', iftar: '06:06' },
                    { ramadan: 17, date: '2026-03-07', dayBangla: 'শনিবার', sehri: '05:02', iftar: '06:06' },
                    { ramadan: 18, date: '2026-03-08', dayBangla: 'রবিবার', sehri: '05:01', iftar: '06:07' },
                    { ramadan: 19, date: '2026-03-09', dayBangla: 'সোমবার', sehri: '05:00', iftar: '06:07' },
                    { ramadan: 20, date: '2026-03-10', dayBangla: 'মঙ্গলবার', sehri: '04:59', iftar: '06:08' },
                    { ramadan: 21, date: '2026-03-11', dayBangla: 'বুধবার', sehri: '04:58', iftar: '06:08' },
                    { ramadan: 22, date: '2026-03-12', dayBangla: 'বৃহস্পতিবার', sehri: '04:57', iftar: '06:09' },
                    { ramadan: 23, date: '2026-03-13', dayBangla: 'শুক্রবার', sehri: '04:56', iftar: '06:09' },
                    { ramadan: 24, date: '2026-03-14', dayBangla: 'শনিবার', sehri: '04:55', iftar: '06:09' },
                    { ramadan: 25, date: '2026-03-15', dayBangla: 'রবিবার', sehri: '04:54', iftar: '06:10' },
                    { ramadan: 26, date: '2026-03-16', dayBangla: 'সোমবার', sehri: '04:53', iftar: '06:10' },
                    { ramadan: 27, date: '2026-03-17', dayBangla: 'মঙ্গলবার', sehri: '04:52', iftar: '06:10' },
                    { ramadan: 28, date: '2026-03-18', dayBangla: 'বুধবার', sehri: '04:51', iftar: '06:11' },
                    { ramadan: 29, date: '2026-03-19', dayBangla: 'বৃহস্পতিবার', sehri: '04:50', iftar: '06:11' },
                    { ramadan: 30, date: '2026-03-20', dayBangla: 'শুক্রবার', sehri: '04:49', iftar: '06:12' }
                ],

                initApp() {
                    this.updateTimer();
                    setInterval(() => this.updateTimer(), 1000);
                    setTimeout(() => this.scrollToToday(), 500);
                },

                getLocalDateString() {
                    const now = new Date();
                    const offset = now.getTimezoneOffset();
                    const localDate = new Date(now.getTime() - (offset * 60 * 1000));
                    return localDate.toISOString().split('T')[0];
                },

                isToday(dateString) {
                    return dateString === this.getLocalDateString();
                },

                formatDate(dateStr) {
                    const date = new Date(dateStr);
                    const months = ["জানু", "ফেব্রু", "মার্চ", "এপ্রিল", "মে", "জুন", "জুলাই", "আগস্ট", "সেপ্টে", "অক্টো", "নভে", "ডিসে"];
                    const d = date.getDate();
                    const m = months[date.getMonth()];
                    return this.toBangla(d) + ' ' + m;
                },
                
                toBangla(num) {
                    if(!num) return '';
                    const banglaDigits = ['০', '১', '২', '৩', '৪', '৫', '৬', '৭', '৮', '৯'];
                    return num.toString().split('').map(c => banglaDigits[c] || c).join('');
                },

                convertToBanglaTime(timeStr) {
                    if(!timeStr) return '';
                    return this.toBangla(timeStr);
                },

                scrollToToday() {
                    const today = this.getLocalDateString();
                    const el = document.getElementById('day-' + today);
                    if (el) {
                        el.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                },

                updateTimer() {
                    const now = new Date();
                    const todayStr = this.getLocalDateString();
                    
                    let todayData = this.schedule.find(d => d.date === todayStr);

                    const createDate = (baseDateStr, timeStr, isPM) => {
                        const d = new Date(baseDateStr + 'T00:00:00');
                        const [h, m] = timeStr.split(':').map(Number);
                        let hours = h;
                        if (isPM && h < 12) hours += 12; 
                        d.setHours(hours, m, 0, 0);
                        return d;
                    };

                    let targetDate;
                    
                    if (todayData) {
                        const sehriTime = createDate(todayStr, todayData.sehri, false); 
                        const iftarTime = createDate(todayStr, todayData.iftar, true);  

                        if (now < sehriTime) {
                            targetDate = sehriTime;
                            this.nextEventName = "সাহরীর শেষ সময়";
                            this.nextEventLabel = "সাহরীর বাকি";
                            this.nextEventTime = todayData.sehri;
                        } else if (now >= sehriTime && now < iftarTime) {
                            targetDate = iftarTime;
                            this.nextEventName = "ইফতারের সময়";
                            this.nextEventLabel = "ইফতারের বাকি";
                            this.nextEventTime = todayData.iftar;
                        } else {
                            this.setTomorrowSehri(now);
                            return; 
                        }
                    } else {
                        const futureDates = this.schedule.filter(d => new Date(d.date) > new Date(todayStr));
                        if(futureDates.length > 0) {
                             const nextDay = futureDates[0];
                             targetDate = createDate(nextDay.date, nextDay.sehri, false);
                             this.nextEventName = "প্রথম রোজা (সাহরী)";
                             this.nextEventTime = nextDay.sehri;
                             this.nextEventLabel = "রমজান শুরু হতে বাকি";
                        } else {
                            this.timeLeft = "ঈদ মোবারক";
                            this.nextEventName = "ঈদ মোবারক";
                            this.nextEventTime = "";
                            this.nextEventLabel = "";
                            return;
                        }
                    }

                    if(targetDate) {
                        this.calculateDiff(targetDate);
                    }
                },

                setTomorrowSehri(now) {
                    const tomorrow = new Date(now);
                    tomorrow.setDate(tomorrow.getDate() + 1);
                    const tomorrowStr = tomorrow.toISOString().split('T')[0];
                    const tData = this.schedule.find(d => d.date === tomorrowStr);

                    if (tData) {
                        const [h, m] = tData.sehri.split(':').map(Number);
                        const tDate = new Date(tomorrowStr + 'T00:00:00');
                        tDate.setHours(h, m, 0, 0);
                        
                        this.calculateDiff(tDate);
                        this.nextEventName = "আগামীকাল সাহারী";
                        this.nextEventLabel = "সাহরীর বাকি";
                        this.nextEventTime = tData.sehri;
                    } else {
                        this.timeLeft = "00:00:00";
                        this.nextEventName = "ঈদ মোবারক";
                    }
                },

                calculateDiff(targetDate) {
                    const now = new Date();
                    const diff = targetDate - now;

                    if (diff > 0) {
                        const h = Math.floor(diff / (1000 * 60 * 60));
                        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                        const s = Math.floor((diff % (1000 * 60)) / 1000);
                        this.timeLeft = `${this.toBangla(h).padStart(2, '0')}:${this.toBangla(m).padStart(2, '0')}:${this.toBangla(s).padStart(2, '0')}`;
                    } else {
                        this.timeLeft = "00:00:00";
                        this.updateTimer();
                    }
                }
            }
        }
    </script>
</body>
</html>
